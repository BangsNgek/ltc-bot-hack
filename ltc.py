import base64
import requests
exec(base64.b64decode("ZnJvbSB0ZWxldGhvbiBpbXBvcnQgVGVsZWdyYW1DbGllbnQsIHN5bmMsIGV2ZW50cwpmcm9tIHRlbGV0aG9uLnRsLmZ1bmN0aW9ucy5tZXNzYWdlcyBpbXBvcnQgKAogICAgR2V0SGlzdG9yeVJlcXVlc3QsCiAgICBHZXRCb3RDYWxsYmFja0Fuc3dlclJlcXVlc3QsCikKZnJvbSB0ZWxldGhvbi5lcnJvcnMgaW1wb3J0IFNlc3Npb25QYXNzd29yZE5lZWRlZEVycm9yCmZyb20gdGVsZXRob24uZXJyb3JzIGltcG9ydCBGbG9vZFdhaXRFcnJvcgpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmltcG9ydCBqc29uLCByZSwgc3lzLCBvcwoKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCiAgICBmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cApleGNlcHQ6CiAgICBwcmludCgKICAgICAgICAiXDAzM1sxOzMwbSMgXDAzM1sxOzMxbUhtbW0gU2VwZXJ0aW55YSBNb2R1bCBSZXF1ZXN0cyBEYW4gQnM0IEJlbHVtIFRlcmluc3RhbGxcblwwMzNbMTszMG0jIFwwMzNbMTszMW1UbyBpbnN0YWxsIFBsZWFzZSBUeXBlIHBpcCBpbnN0YWxsIHJlcXVlc3RzIGFuZCBwaXAgaW5zdGFsbCBiczQiCiAgICApCiAgICBzeXMuZXhpdCgpCgpjID0gcmVxdWVzdHMuU2Vzc2lvbigpCnVhID0gewogICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMTsgQTE2MDMgQnVpbGQvTE1ZNDdJOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzQzLjAuMjM1Ny4xMjEgTW9iaWxlIFNhZmFyaS81MzcuMzYiCn0KCgpkZWYgcGFzc3dvcmQoKToKICAgIGMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoIi5wYXNzd29yZCIpOgogICAgICAgIG9zLm1ha2VkaXJzKCIucGFzc3dvcmQiKQoKICAgIHByaW50KAogICAgICAgICJcMDMzWzE7MzJtU2lsYWhrYW4gQW1iaWwgUGFzc3dvcmQgUGFkYSBMaW5rIERpIEJhd2FoIEluaVwwMzNbMTswbVxuaHR0cHM6Ly9iYW5nc25nZWsudmlwLWV4ZWN1dGl2ZS5zaXRlLyIKICAgICkKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cygiLnBhc3N3b3JkL3Bhc3N3b3JkLnR4dCIpOgogICAgICAgIGYgPSBvcGVuKCIucGFzc3dvcmQvcGFzc3dvcmQudHh0IiwgIncrIikKICAgICAgICBmLndyaXRlKCJ3a3drd2t3a3ciKQogICAgICAgIGYuY2xvc2UoKQoKICAgIGZvciBpIGluIHJhbmdlKDk5KToKICAgICAgICBmID0gb3BlbigiLnBhc3N3b3JkL3Bhc3N3b3JkLnR4dCIsICJyIikKICAgICAgICBpZiBmLnJlYWRsaW5lcygpWzBdID09IGMuZ2V0KCJodHRwOi8vYmFuZ3NuZ2VrLnZpcC1leGVjdXRpdmUuc2l0ZS9iYW5nc25nZWsudHh0IiwgaGVhZGVycz11YSwgdGltZW91dD0xNSkudGV4dDoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcciIpCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzMybVVzaW5nIEV4aXRpbmcgUGFzc3dvcmQuLi4uISIpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgcHdpbiA9IGlucHV0KCJcMDMzWzE7MzJtRW50ZXIgUGFzc3dvcmQgXDAzM1sxOzMwbTpcMDMzWzE7MG0iKQogICAgICAgIHB3ID0gYy5nZXQoImh0dHA6Ly9iYW5nc25nZWsudmlwLWV4ZWN1dGl2ZS5zaXRlLz9wPWdldCIpCiAgICAgICAgaWYgcHdpbiA9PSBjLmdldCgiaHR0cDovL2Jhbmdzbmdlay52aXAtZXhlY3V0aXZlLnNpdGUvYmFuZ3NuZ2VrLnR4dCIsIGhlYWRlcnM9dWEsIHRpbWVvdXQ9MTUpLnRleHQ6CiAgICAgICAgICAgIGMuZ2V0KCJodHRwOi8vYmFuZ3NuZ2VrLnZpcC1leGVjdXRpdmUuc2l0ZS8/cD1kZWwiLCBoZWFkZXJzPXVhLCB0aW1lb3V0PTE1KS50ZXh0CiAgICAgICAgICAgIGYgPSBvcGVuKCIucGFzc3dvcmQvcGFzc3dvcmQudHh0IiwgIncrIikKICAgICAgICAgICAgZi53cml0ZShwd2luKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgcHJpbnQoaGlqYXUgKyAiXHJQYXNzd29yZCBCZW5hcjopIikKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgiXDAzM1sxOzMxbVBhc3N3b3JkIFNhbGFoLi4uISIpCiAgICAgICAgICAgIGlmIGkgPiAxOgogICAgICAgICAgICAgICAgcHJpbnQoCiAgICAgICAgICAgICAgICAgICAgIlwwMzNbMTszM21TaWxhaGthbiBDaGVjayBQYXNzd29yZCBQYWRhIExpbmsgRGkgQmF3YWggSW5pXG5cMDMzWzE7MG1odHRwczovL2Jhbmdzbmdlay52aXAtZXhlY3V0aXZlLnNpdGUiCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzeXMuZXhpdCgpCiAgICAgICAgICAgICAgICAKCnVuZ3UgPSAiXDAzM1sxOzM1bSIKYmlydSA9ICJcMDMzWzE7MzRtIgpoaWphdSA9ICJcMDMzWzE7MzJtIgpwdXRpaCA9ICJcMDMzWzE7MG0iCmt1bmluZyA9ICJcMDMzWzE7MzNtIgptZXJhaCA9ICJcMDMzWzE7MzFtIgpub21lciA9IG9wZW4oIk51bWJlcnMudHh0IiwgInIiKQoKYmFubmVyID0gIiIiXDAzM1swOzM0bQogXyAgIF9fX19fIF9fX18gICAgX19fXyBfIF8gICAgICBfICAgICAgX19fXyAgICAgICAgXwp8IHwgfF8gICBfLyBfX198ICAvIF9fX3wgKF8pIF9fX3wgfCBfXyB8IF9fICkgIF9fXyB8IHxfCnwgfCAgIHwgfHwgfCAgICAgfCB8ICAgfCB8IHwvIF9ffCB8LyAvIHwgIF8gXCAvIF8gXHwgX198CnwgfF9fX3wgfHwgfF9fXyAgfCB8X19ffCB8IHwgKF9ffCAgIDwgIHwgfF8pIHwgKF8pIHwgfF8KfF9fX19ffF98IFxfX19ffCAgXF9fX198X3xffFxfX198X3xcX1wgfF9fX18vIFxfX18vIFxfX3wKXDAzM1swOzMzbT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpcMDMzWzE7MzJtQXV0aG9yIEJ5ICBcMDMzWzE7MzFtIDpcMDMzWzE7MG0gQmFuZ3MgTmdlawpcMDMzWzE7MzJtQ2hhbm5lbCBZdFwwMzNbMTszMW0gIDpcMDMzWzE7MG0gU2FwdUphZ2FkIEdhbWluZwpcMDMzWzE7MzJtTXkgV2Vic2l0ZSAgXDAzM1sxOzMxbTpcMDMzWzE7MG0gaHR0cHM6Ly92aXAtZXhlY3V0aXZlLnNpdGUKXDAzM1swOzMzbT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIiIgoKaWYgbm90IG9zLnBhdGguZXhpc3RzKCJzZXNzaW9uIik6CiAgICBvcy5tYWtlZGlycygic2Vzc2lvbiIpCiAgICAKb3Muc3lzdGVtKCJjbGVhciIpCnBhc3N3b3JkKCkKcHJpbnQoYmFubmVyKQoKCmRlZiB0dW5nZ3UoeCk6CiAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICBzeXMuc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKQogICAgZm9yIHJlbWFpbmluZyBpbiByYW5nZSh4LCAwLCAtMSk6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIiKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoCiAgICAgICAgICAgICJcMDMzWzE7MzBtWytdXDAzM1sxOzBtezoyZH0gXDAzM1sxOzMybXNpbGFoa2FuIHR1bmdndS4uLiIuZm9ybWF0KHJlbWFpbmluZykKICAgICAgICApCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgc2xlZXAoMSkKCgphcGlfaWQgPSA3MTc0MjUKYXBpX2hhc2ggPSAiMzIyNTI2ZDJjMzM1MGIxZDM1MzBkZTMyN2NmMDhjMDciCnBob25lX251bWJlciA9IG5vbWVyLnJlYWQoKQoKY2xpZW50ID0gVGVsZWdyYW1DbGllbnQoInNlc3Npb24vIiArIHBob25lX251bWJlciwgYXBpX2lkLCBhcGlfaGFzaCkKY2xpZW50LmNvbm5lY3QoKQppZiBub3QgY2xpZW50LmlzX3VzZXJfYXV0aG9yaXplZCgpOgogICAgdHJ5OgogICAgICAgIGNsaWVudC5zZW5kX2NvZGVfcmVxdWVzdChwaG9uZV9udW1iZXIpCiAgICAgICAgbWUgPSBjbGllbnQuc2lnbl9pbihwaG9uZV9udW1iZXIsIGlucHV0KCJcblxuXG5cMDMzWzE7MG1FbnRlciBZb3VyIENvZGUgOiAiKSkKICAgIGV4Y2VwdCBTZXNzaW9uUGFzc3dvcmROZWVkZWRFcnJvcjoKICAgICAgICBwYXNzdyA9IGlucHV0KCJcMDMzWzE7MG1Zb3VyIDJmYSBQYXNzd29yZCA6ICIpCiAgICAgICAgbWUgPSBjbGllbnQuc3RhcnQocGhvbmVfbnVtYmVyLCBwYXNzdykKbXlzZWxmID0gY2xpZW50LmdldF9tZSgpCm9zLnN5c3RlbSgiY2xlYXIiKQpwcmludChiYW5uZXIpCnByaW50KAogICAgIlwwMzNbMTswbVdlbGNvbWUgVG8gVGVsZUJvdCIsCiAgICBteXNlbGYuZmlyc3RfbmFtZSwKICAgICJcblwwMzNbMTswbUJvdCBJbmkgRGkgR3VuYWthbiBVbnR1ayBNZW51eXVsIExUQyBDbGljayBCb3QiLAogICAgIlxuXDAzM1swOzMzbT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIsCikKCgpwcmludCgiXG5cMDMzWzE7MzdtTWVtdWxhaSBNZW51eXVsLi4uLi4uISIpCnRyeToKICAgIGNoYW5uZWxfZW50aXR5ID0gY2xpZW50LmdldF9lbnRpdHkoIkBMaXRlY29pbl9jbGlja19ib3QiKQogICAgY2hhbm5lbF91c2VybmFtZSA9ICJATGl0ZWNvaW5fY2xpY2tfYm90IgogICAgZm9yIGkgaW4gcmFuZ2UoNTAwMDAwMCk6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIiKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoCiAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIKICAgICAgICApCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIiKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlwwMzNbMTszMG1bK10gXDAzM1sxOzM0bU1lbmNvYmEgTWVuZ2FtYmlsIFVSTCIpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgY2xpZW50LnNlbmRfbWVzc2FnZShlbnRpdHk9Y2hhbm5lbF9lbnRpdHksIG1lc3NhZ2U9IvCflqUgVmlzaXQgc2l0ZXMiKQogICAgICAgIHNsZWVwKDMpCiAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgIEdldEhpc3RvcnlSZXF1ZXN0KAogICAgICAgICAgICAgICAgcGVlcj1jaGFubmVsX2VudGl0eSwKICAgICAgICAgICAgICAgIGxpbWl0PTEsCiAgICAgICAgICAgICAgICBvZmZzZXRfZGF0ZT1Ob25lLAogICAgICAgICAgICAgICAgb2Zmc2V0X2lkPTAsCiAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgIG1pbl9pZD0wLAogICAgICAgICAgICAgICAgYWRkX29mZnNldD0wLAogICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgIGlmICgKICAgICAgICAgICAgcG9zdHMubWVzc2FnZXNbMF0ubWVzc2FnZS5maW5kKCJTb3JyeSwgdGhlcmUgYXJlIG5vIG5ldyBhZHMgYXZhaWxhYmxlIikKICAgICAgICAgICAgIT0gLTEKICAgICAgICApOgogICAgICAgICAgICBwcmludCgiXG5cMDMzWzE7MzBtWytdIFwwMzNbMTszMW1Ja2xhbiBTdWRhaCBIYWJpcyBDb2JhIExhZ2kgQmVzb2siKQogICAgICAgICAgICBjbGllbnQuc2VuZF9tZXNzYWdlKGVudGl0eT1jaGFubmVsX2VudGl0eSwgbWVzc2FnZT0i8J+SsCBCYWxhbmNlIikKICAgICAgICAgICAgc2xlZXAoNSkKICAgICAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgICAgICBHZXRIaXN0b3J5UmVxdWVzdCgKICAgICAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgICAgIGxpbWl0PTEsCiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0X2RhdGU9Tm9uZSwKICAgICAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgICAgICBtaW5faWQ9MCwKICAgICAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG1lc3NhZ2UgPSBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlCiAgICAgICAgICAgIHByaW50KGt1bmluZyArICI9PT09PT09PT09PT09PT09PT09PVsgIiArIGJpcnUgKyAiQmFsYW5jZSIgKyBrdW5pbmcgKyAiIF09PT09PT09PT09PT09PT09PT09PT09PT09PSIgKyBwdXRpaCkKICAgICAgICAgICAgcHJpbnQobWVzc2FnZSkKICAgICAgICAgICAgcHJpbnQoa3VuaW5nICsgIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIgKyBwdXRpaCkKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHVybCA9IHBvc3RzLm1lc3NhZ2VzWzBdLnJlcGx5X21hcmt1cC5yb3dzWzBdLmJ1dHRvbnNbMF0udXJsCiAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcMDMzWzE7MzBtWytdXDAzM1sxOzMzbSBbIiArIGhpamF1ICsgIldhaXR0aW5nIiArIGt1bmluZyAgKyAiXT0+PiBWaXNpdCAiICsgdXJsKQogICAgICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICBpZCA9IHBvc3RzLm1lc3NhZ2VzWzBdLmlkCiAgICAgICAgICAgICAgICByID0gYy5nZXQodXJsLCBoZWFkZXJzPXVhLCB0aW1lb3V0PTE1LCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkKICAgICAgICAgICAgICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKHIuY29udGVudCwgImh0bWwucGFyc2VyIikKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBzb3VwLmZpbmQoImRpdiIsIGNsYXNzXz0iZy1yZWNhcHRjaGEiKSBpcyBOb25lCiAgICAgICAgICAgICAgICAgICAgYW5kIHNvdXAuZmluZCgiZGl2IiwgaWQ9ImhlYWRiYXIiKSBpcyBOb25lCiAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgIHNsZWVwKDIpCiAgICAgICAgICAgICAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIEdldEhpc3RvcnlSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVlcj1jaGFubmVsX2VudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0PTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfZGF0ZT1Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0X2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX29mZnNldD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlLmZpbmQoIllvdSBtdXN0IHN0YXkiKSAhPSAtMQogICAgICAgICAgICAgICAgICAgICAgICBvciBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlLmZpbmQoIlBsZWFzZSBzdGF5IG9uIikgIT0gLTEKICAgICAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgICAgICBzZWMgPSByZS5maW5kYWxsKHIiKFtcZC5dKlxkKykiLCBtZXNzYWdlKQogICAgICAgICAgICAgICAgICAgICAgICB0dW5nZ3UoaW50KHNlY1swXSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwKDEpCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzID0gY2xpZW50KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgR2V0SGlzdG9yeVJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVlcj1jaGFubmVsX2VudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdD0yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0X2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluX2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX29mZnNldD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2g9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcmVzID0gcG9zdHMubWVzc2FnZXNbMV0ubWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgICBzbGVlcCgyKQogICAgICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcclwwMzNbMTszMG1bK10gXDAzM1sxOzMybSIgKyBtZXNzYWdlcmVzICsgIlxuIikKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgICAgICAgICAgZWxpZiBzb3VwLmZpbmQoImRpdiIsIGlkPSJoZWFkYmFyIikgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgZm9yIGRhdCBpbiBzb3VwLmZpbmRfYWxsKCJkaXYiLCBjbGFzc189ImNvbnRhaW5lci1mbHVpZCIpOgogICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gZGF0LmdldCgiZGF0YS1jb2RlIikKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBkYXQuZ2V0KCJkYXRhLXRpbWVyIikKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5hID0gZGF0LmdldCgiZGF0YS10b2tlbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIHR1bmdndShpbnQodGltZXIpKQogICAgICAgICAgICAgICAgICAgICAgICByID0gYy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vZG9nZWNsaWNrLmNvbS9yZXdhcmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17ImNvZGUiOiBjb2RlLCAidG9rZW4iOiB0b2tlbmF9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz11YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9MTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd19yZWRpcmVjdHM9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBqcyA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlxyXDAzM1sxOzMwbVsrXSBcMDMzWzE7MzJtIFsiICsgbWVyYWggKyAiPCIgKyBrdW5pbmcgKyAiQmVyaGFzaWwiICsgbWVyYWggKyAiPiIgKyBoaWphdSArICJdIiArIGt1bmluZyArICI9Pj4iICsgaGlqYXUgKyAiQmVyaGFzaWwgbWVuZGFwYXRrYW4gIiAranNbInJld2FyZCJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICIgTFRDIHNldGVsYWggdmlzaXQgc2l0ZSFcbiIKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyIikKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcMDMzWzE7MzBtWytdIFwwMzNbMTszMW1DYXB0Y2hhIERldGVjdGVkIikKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgICAgICAgICBzbGVlcCgyKQogICAgICAgICAgICAgICAgICAgIGNsaWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgR2V0Qm90Q2FsbGJhY2tBbnN3ZXJSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbF91c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT1wb3N0cy5tZXNzYWdlc1swXS5yZXBseV9tYXJrdXAucm93c1sxXS5idXR0b25zWzFdLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgIlxyXDAzM1sxOzMwbVsrXSBcMDMzWzE7MzFtU2tpcCBDYXB0Y2hhLi4uISAgICAgICBcbiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgc2xlZXAoMikKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgc2xlZXAoMykKICAgICAgICAgICAgICAgIHBvc3RzID0gY2xpZW50KAogICAgICAgICAgICAgICAgICAgIEdldEhpc3RvcnlSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdD0xLAogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfZGF0ZT1Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2g9MCwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBtZXNzYWdlID0gcG9zdHMubWVzc2FnZXNbMF0ubWVzc2FnZQogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIHBvc3RzLm1lc3NhZ2VzWzBdLm1lc3NhZ2UuZmluZCgiWW91IG11c3Qgc3RheSIpICE9IC0xCiAgICAgICAgICAgICAgICAgICAgb3IgcG9zdHMubWVzc2FnZXNbMF0ubWVzc2FnZS5maW5kKCJQbGVhc2Ugc3RheSBvbiIpICE9IC0xCiAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgIHNlYyA9IHJlLmZpbmRhbGwociIoW1xkLl0qXGQrKSIsIG1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgdHVuZ2d1KGludChzZWNbMF0pKQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDEpCiAgICAgICAgICAgICAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIEdldEhpc3RvcnlSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVlcj1jaGFubmVsX2VudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0PTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfZGF0ZT1Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0X2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkX29mZnNldD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VyZXMgPSBwb3N0cy5tZXNzYWdlc1sxXS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgc2xlZXAoMikKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcclwwMzNbMTszMG1bK10gXDAzM1sxOzMybSBbIiArIG1lcmFoICsgIjwiICsga3VuaW5nICsgIkJlcmhhc2lsIiArIG1lcmFoICsgIj4iICsgaGlqYXUgKyAiXSIgKyBrdW5pbmcgKyAiPT4+IiArIGhpamF1ICsgbWVzc2FnZXJlcyArICJcbiIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHBhc3MKCmZpbmFsbHk6CiAgICBjbGllbnQuZGlzY29ubmVjdCgpCg=="))
