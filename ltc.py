import base64

exec(base64.b64decode("ZnJvbSB0ZWxldGhvbiBpbXBvcnQgVGVsZWdyYW1DbGllbnQsIHN5bmMsIGV2ZW50cwpmcm9tIHRlbGV0aG9uLnRsLmZ1bmN0aW9ucy5tZXNzYWdlcyBpbXBvcnQgKAogICAgR2V0SGlzdG9yeVJlcXVlc3QsCiAgICBHZXRCb3RDYWxsYmFja0Fuc3dlclJlcXVlc3QsCikKZnJvbSB0ZWxldGhvbi5lcnJvcnMgaW1wb3J0IFNlc3Npb25QYXNzd29yZE5lZWRlZEVycm9yCmZyb20gdGVsZXRob24uZXJyb3JzIGltcG9ydCBGbG9vZFdhaXRFcnJvcgpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmltcG9ydCBqc29uLCByZSwgc3lzLCBvcwoKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCiAgICBmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cApleGNlcHQ6CiAgICBwcmludCgKICAgICAgICAiXDAzM1sxOzMwbSMgXDAzM1sxOzMxbUhtbW0gU2VwZXJ0aW55YSBNb2R1bCBSZXF1ZXN0cyBEYW4gQnM0IEJlbHVtIFRlcmluc3RhbGxcblwwMzNbMTszMG0jIFwwMzNbMTszMW1UbyBpbnN0YWxsIFBsZWFzZSBUeXBlIHBpcCBpbnN0YWxsIHJlcXVlc3RzIGFuZCBwaXAgaW5zdGFsbCBiczQiCiAgICApCiAgICBzeXMuZXhpdCgpCgpjID0gcmVxdWVzdHMuU2Vzc2lvbigpCnVhID0gewogICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMTsgQTE2MDMgQnVpbGQvTE1ZNDdJOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzQzLjAuMjM1Ny4xMjEgTW9iaWxlIFNhZmFyaS81MzcuMzYiCn0KCgpkZWYgcGFzc3dvcmQoKToKICAgIGMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoIi5wYXNzd29yZCIpOgogICAgICAgIG9zLm1ha2VkaXJzKCIucGFzc3dvcmQiKQoKICAgIHByaW50KAogICAgICAgICJcMDMzWzE7MzJtU2lsYWhrYW4gQW1iaWwgUGFzc3dvcmQgUGFkYSBMaW5rIERpIEJhd2FoIEluaVwwMzNbMTswbVxuaHR0cHM6Ly9iYW5nc25nZWsudmlwLWV4ZWN1dGl2ZS5zaXRlLyIKICAgICkKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cygiLnBhc3N3b3JkL3Bhc3N3b3JkLnR4dCIpOgogICAgICAgIGYgPSBvcGVuKCIucGFzc3dvcmQvcGFzc3dvcmQudHh0IiwgIncrIikKICAgICAgICBmLndyaXRlKCJ3a3drd2t3a3ciKQogICAgICAgIGYuY2xvc2UoKQoKICAgIGZvciBpIGluIHJhbmdlKDk5KToKICAgICAgICBmID0gb3BlbigiLnBhc3N3b3JkL3Bhc3N3b3JkLnR4dCIsICJyIikKICAgICAgICBpZiBmLnJlYWRsaW5lcygpWzBdID09IGMuZ2V0KCJodHRwOi8vYmFuZ3NuZ2VrLnZpcC1leGVjdXRpdmUuc2l0ZS9iYW5nc25nZWsudHh0IiwgaGVhZGVycz11YSwgdGltZW91dD0xNSkudGV4dDoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcciIpCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzMybVVzaW5nIEV4aXRpbmcgUGFzc3dvcmQuLi4uISIpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgcHdpbiA9IGlucHV0KCJcMDMzWzE7MzJtRW50ZXIgUGFzc3dvcmQgXDAzM1sxOzMwbTpcMDMzWzE7MG0iKQogICAgICAgIHB3ID0gYy5nZXQoImh0dHA6Ly9iYW5nc25nZWsudmlwLWV4ZWN1dGl2ZS5zaXRlLz9wPWdldCIpCiAgICAgICAgaWYgcHdpbiA9PSBjLmdldCgiaHR0cDovL2Jhbmdzbmdlay52aXAtZXhlY3V0aXZlLnNpdGUvP3A9Z2V0IiwgaGVhZGVycz11YSwgdGltZW91dD0xNSkudGV4dDoKICAgICAgICAgICAgYy5nZXQoImh0dHA6Ly9iYW5nc25nZWsudmlwLWV4ZWN1dGl2ZS5zaXRlLz9wPWRlbCIsIGhlYWRlcnM9dWEsIHRpbWVvdXQ9MTUpLnRleHQKICAgICAgICAgICAgZiA9IG9wZW4oIi5wYXNzd29yZC9wYXNzd29yZC50eHQiLCAidysiKQogICAgICAgICAgICBmLndyaXRlKHB3aW4pCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBwcmludChoaWphdSArICJcclBhc3N3b3JkIEJlbmFyOikiKQogICAgICAgICAgICBicmVhawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJcMDMzWzE7MzFtUGFzc3dvcmQgU2FsYWguLi4hIikKICAgICAgICAgICAgaWYgaSA+IDE6CiAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAiXDAzM1sxOzMzbVNpbGFoa2FuIENoZWNrIFBhc3N3b3JkIFBhZGEgTGluayBEaSBCYXdhaCBJbmlcblwwMzNbMTswbWh0dHBzOi8vYmFuZ3NuZ2VrLnZpcC1leGVjdXRpdmUuc2l0ZSIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHN5cy5leGl0KCkKICAgICAgICAgICAgICAgIAoKdW5ndSA9ICJcMDMzWzE7MzVtIgpiaXJ1ID0gIlwwMzNbMTszNG0iCmhpamF1ID0gIlwwMzNbMTszMm0iCnB1dGloID0gIlwwMzNbMTswbSIKa3VuaW5nID0gIlwwMzNbMTszM20iCm1lcmFoID0gIlwwMzNbMTszMW0iCm5vbWVyID0gb3BlbigiTnVtYmVycy50eHQiLCAiciIpCgpiYW5uZXIgPSAiIiJcMDMzWzA7MzRtCiBfICAgX19fX18gX19fXyAgICBfX19fIF8gXyAgICAgIF8gICAgICBfX19fICAgICAgICBfCnwgfCB8XyAgIF8vIF9fX3wgIC8gX19ffCAoXykgX19ffCB8IF9fIHwgX18gKSAgX19fIHwgfF8KfCB8ICAgfCB8fCB8ICAgICB8IHwgICB8IHwgfC8gX198IHwvIC8gfCAgXyBcIC8gXyBcfCBfX3wKfCB8X19ffCB8fCB8X19fICB8IHxfX198IHwgfCAoX198ICAgPCAgfCB8XykgfCAoXykgfCB8Xwp8X19fX198X3wgXF9fX198ICBcX19fX3xffF98XF9fX3xffFxfXCB8X19fXy8gXF9fXy8gXF9ffApcMDMzWzA7MzNtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClwwMzNbMTszMm1BdXRob3IgQnkgIFwwMzNbMTszMW0gOlwwMzNbMTswbSBCYW5ncyBOZ2VrClwwMzNbMTszMm1DaGFubmVsIFl0XDAzM1sxOzMxbSAgOlwwMzNbMTswbSBTYXB1SmFnYWQgR2FtaW5nClwwMzNbMTszMm1NeSBXZWJzaXRlICBcMDMzWzE7MzFtOlwwMzNbMTswbSBodHRwczovL3ZpcC1leGVjdXRpdmUuc2l0ZQpcMDMzWzA7MzNtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IiIiCgppZiBub3Qgb3MucGF0aC5leGlzdHMoInNlc3Npb24iKToKICAgIG9zLm1ha2VkaXJzKCJzZXNzaW9uIikKICAgIApvcy5zeXN0ZW0oImNsZWFyIikKcGFzc3dvcmQoKQpwcmludChiYW5uZXIpCgoKZGVmIHR1bmdndSh4KToKICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyIikKICAgIHN5cy5zdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpCiAgICBmb3IgcmVtYWluaW5nIGluIHJhbmdlKHgsIDAsIC0xKToKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgKICAgICAgICAgICAgIlwwMzNbMTszMG1bK11cMDMzWzE7MG17OjJkfSBcMDMzWzE7MzJtc2lsYWhrYW4gdHVuZ2d1Li4uIi5mb3JtYXQocmVtYWluaW5nKQogICAgICAgICkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBzbGVlcCgxKQoKCmFwaV9pZCA9IDcxNzQyNQphcGlfaGFzaCA9ICIzMjI1MjZkMmMzMzUwYjFkMzUzMGRlMzI3Y2YwOGMwNyIKcGhvbmVfbnVtYmVyID0gbm9tZXIucmVhZCgpCgpjbGllbnQgPSBUZWxlZ3JhbUNsaWVudCgic2Vzc2lvbi8iICsgcGhvbmVfbnVtYmVyLCBhcGlfaWQsIGFwaV9oYXNoKQpjbGllbnQuY29ubmVjdCgpCmlmIG5vdCBjbGllbnQuaXNfdXNlcl9hdXRob3JpemVkKCk6CiAgICB0cnk6CiAgICAgICAgY2xpZW50LnNlbmRfY29kZV9yZXF1ZXN0KHBob25lX251bWJlcikKICAgICAgICBtZSA9IGNsaWVudC5zaWduX2luKHBob25lX251bWJlciwgaW5wdXQoIlxuXG5cblwwMzNbMTswbUVudGVyIFlvdXIgQ29kZSA6ICIpKQogICAgZXhjZXB0IFNlc3Npb25QYXNzd29yZE5lZWRlZEVycm9yOgogICAgICAgIHBhc3N3ID0gaW5wdXQoIlwwMzNbMTswbVlvdXIgMmZhIFBhc3N3b3JkIDogIikKICAgICAgICBtZSA9IGNsaWVudC5zdGFydChwaG9uZV9udW1iZXIsIHBhc3N3KQpteXNlbGYgPSBjbGllbnQuZ2V0X21lKCkKb3Muc3lzdGVtKCJjbGVhciIpCnByaW50KGJhbm5lcikKcHJpbnQoCiAgICAiXDAzM1sxOzBtV2VsY29tZSBUbyBUZWxlQm90IiwKICAgIG15c2VsZi5maXJzdF9uYW1lLAogICAgIlxuXDAzM1sxOzBtQm90IEluaSBEaSBHdW5ha2FuIFVudHVrIE1lbnV5dWwgTFRDIENsaWNrIEJvdCIsCiAgICAiXG5cMDMzWzA7MzNtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IiwKKQoKCnByaW50KCJcblwwMzNbMTszN21NZW11bGFpIE1lbnV5dWwuLi4uLi4hIikKdHJ5OgogICAgY2hhbm5lbF9lbnRpdHkgPSBjbGllbnQuZ2V0X2VudGl0eSgiQExpdGVjb2luX2NsaWNrX2JvdCIpCiAgICBjaGFubmVsX3VzZXJuYW1lID0gIkBMaXRlY29pbl9jbGlja19ib3QiCiAgICBmb3IgaSBpbiByYW5nZSg1MDAwMDAwKToKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgKICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIgogICAgICAgICkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCJcciIpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXDAzM1sxOzMwbVsrXSBcMDMzWzE7MzRtTWVuY29iYSBNZW5nYW1iaWwgVVJMIikKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBjbGllbnQuc2VuZF9tZXNzYWdlKGVudGl0eT1jaGFubmVsX2VudGl0eSwgbWVzc2FnZT0i8J+WpSBWaXNpdCBzaXRlcyIpCiAgICAgICAgc2xlZXAoMykKICAgICAgICBwb3N0cyA9IGNsaWVudCgKICAgICAgICAgICAgR2V0SGlzdG9yeVJlcXVlc3QoCiAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgbGltaXQ9MSwKICAgICAgICAgICAgICAgIG9mZnNldF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgIG1heF9pZD0wLAogICAgICAgICAgICAgICAgbWluX2lkPTAsCiAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICBoYXNoPTAsCiAgICAgICAgICAgICkKICAgICAgICApCiAgICAgICAgaWYgKAogICAgICAgICAgICBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlLmZpbmQoIlNvcnJ5LCB0aGVyZSBhcmUgbm8gbmV3IGFkcyBhdmFpbGFibGUiKQogICAgICAgICAgICAhPSAtMQogICAgICAgICk6CiAgICAgICAgICAgIHByaW50KCJcblwwMzNbMTszMG1bK10gXDAzM1sxOzMxbUlrbGFuIFN1ZGFoIEhhYmlzIENvYmEgTGFnaSBCZXNvayIpCiAgICAgICAgICAgIGNsaWVudC5zZW5kX21lc3NhZ2UoZW50aXR5PWNoYW5uZWxfZW50aXR5LCBtZXNzYWdlPSLwn5KwIEJhbGFuY2UiKQogICAgICAgICAgICBzbGVlcCg1KQogICAgICAgICAgICBwb3N0cyA9IGNsaWVudCgKICAgICAgICAgICAgICAgIEdldEhpc3RvcnlSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgIHBlZXI9Y2hhbm5lbF9lbnRpdHksCiAgICAgICAgICAgICAgICAgICAgbGltaXQ9MSwKICAgICAgICAgICAgICAgICAgICBvZmZzZXRfZGF0ZT1Ob25lLAogICAgICAgICAgICAgICAgICAgIG9mZnNldF9pZD0wLAogICAgICAgICAgICAgICAgICAgIG1heF9pZD0wLAogICAgICAgICAgICAgICAgICAgIG1pbl9pZD0wLAogICAgICAgICAgICAgICAgICAgIGFkZF9vZmZzZXQ9MCwKICAgICAgICAgICAgICAgICAgICBoYXNoPTAsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbWVzc2FnZSA9IHBvc3RzLm1lc3NhZ2VzWzBdLm1lc3NhZ2UKICAgICAgICAgICAgcHJpbnQoa3VuaW5nICsgIj09PT09PT09PT09PT09PT09PT09WyAiICsgYmlydSArICJCYWxhbmNlIiArIGt1bmluZyArICIgXT09PT09PT09PT09PT09PT09PT09PT09PT09IiArIHB1dGloKQogICAgICAgICAgICBwcmludChtZXNzYWdlKQogICAgICAgICAgICBwcmludChrdW5pbmcgKyAiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IiArIHB1dGloKQogICAgICAgICAgICBzeXMuZXhpdCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgdXJsID0gcG9zdHMubWVzc2FnZXNbMF0ucmVwbHlfbWFya3VwLnJvd3NbMF0uYnV0dG9uc1swXS51cmwKICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyIikKICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlwwMzNbMTszMG1bK11cMDMzWzE7MzNtIFsiICsgaGlqYXUgKyAiV2FpdHRpbmciICsga3VuaW5nICArICJdPT4+IFZpc2l0ICIgKyB1cmwpCiAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgICAgIGlkID0gcG9zdHMubWVzc2FnZXNbMF0uaWQKICAgICAgICAgICAgICAgIHIgPSBjLmdldCh1cmwsIGhlYWRlcnM9dWEsIHRpbWVvdXQ9MTUsIGFsbG93X3JlZGlyZWN0cz1UcnVlKQogICAgICAgICAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAoci5jb250ZW50LCAiaHRtbC5wYXJzZXIiKQogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIHNvdXAuZmluZCgiZGl2IiwgY2xhc3NfPSJnLXJlY2FwdGNoYSIpIGlzIE5vbmUKICAgICAgICAgICAgICAgICAgICBhbmQgc291cC5maW5kKCJkaXYiLCBpZD0iaGVhZGJhciIpIGlzIE5vbmUKICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgc2xlZXAoMikKICAgICAgICAgICAgICAgICAgICBwb3N0cyA9IGNsaWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgR2V0SGlzdG9yeVJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ9MSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluX2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHBvc3RzLm1lc3NhZ2VzWzBdLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzLm1lc3NhZ2VzWzBdLm1lc3NhZ2UuZmluZCgiWW91IG11c3Qgc3RheSIpICE9IC0xCiAgICAgICAgICAgICAgICAgICAgICAgIG9yIHBvc3RzLm1lc3NhZ2VzWzBdLm1lc3NhZ2UuZmluZCgiUGxlYXNlIHN0YXkgb24iKSAhPSAtMQogICAgICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYyA9IHJlLmZpbmRhbGwociIoW1xkLl0qXGQrKSIsIG1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgICAgIHR1bmdndShpbnQoc2VjWzBdKSkKICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXAoMSkKICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZXRIaXN0b3J5UmVxdWVzdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0PTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0X2RhdGU9Tm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5faWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VyZXMgPSBwb3N0cy5tZXNzYWdlc1sxXS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwKDIpCiAgICAgICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzMwbVsrXSBcMDMzWzE7MzJtIiArIG1lc3NhZ2VyZXMgKyAiXG4iKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKCiAgICAgICAgICAgICAgICBlbGlmIHNvdXAuZmluZCgiZGl2IiwgaWQ9ImhlYWRiYXIiKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBmb3IgZGF0IGluIHNvdXAuZmluZF9hbGwoImRpdiIsIGNsYXNzXz0iY29udGFpbmVyLWZsdWlkIik6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBkYXQuZ2V0KCJkYXRhLWNvZGUiKQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lciA9IGRhdC5nZXQoImRhdGEtdGltZXIiKQogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbmEgPSBkYXQuZ2V0KCJkYXRhLXRva2VuIikKICAgICAgICAgICAgICAgICAgICAgICAgdHVuZ2d1KGludCh0aW1lcikpCiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBjLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9kb2dlY2xpY2suY29tL3Jld2FyZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXsiY29kZSI6IGNvZGUsICJ0b2tlbiI6IHRva2VuYX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPXVhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dD0xNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93X3JlZGlyZWN0cz1UcnVlLAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGpzID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiXHJcMDMzWzE7MzBtWytdIFwwMzNbMTszMm0gWyIgKyBtZXJhaCArICI8IiArIGt1bmluZyArICJCZXJoYXNpbCIgKyBtZXJhaCArICI+IiArIGhpamF1ICsgIl0iICsga3VuaW5nICsgIj0+PiIgKyBoaWphdSArICJCZXJoYXNpbCBtZW5kYXBhdGthbiAiICtqc1sicmV3YXJkIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIiBMVEMgc2V0ZWxhaCB2aXNpdCBzaXRlIVxuIgogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyIikKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKAogICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIiKQogICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlwwMzNbMTszMG1bK10gXDAzM1sxOzMxbUNhcHRjaGEgRGV0ZWN0ZWQiKQogICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDIpCiAgICAgICAgICAgICAgICAgICAgY2xpZW50KAogICAgICAgICAgICAgICAgICAgICAgICBHZXRCb3RDYWxsYmFja0Fuc3dlclJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3VzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXBvc3RzLm1lc3NhZ2VzWzBdLnJlcGx5X21hcmt1cC5yb3dzWzFdLmJ1dHRvbnNbMV0uZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKAogICAgICAgICAgICAgICAgICAgICAgICAiXHJcMDMzWzE7MzBtWytdIFwwMzNbMTszMW1Ta2lwIENhcHRjaGEuLi4hICAgICAgIFxuIgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBzbGVlcCgyKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzbGVlcCgzKQogICAgICAgICAgICAgICAgcG9zdHMgPSBjbGllbnQoCiAgICAgICAgICAgICAgICAgICAgR2V0SGlzdG9yeVJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXI9Y2hhbm5lbF9lbnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0PTEsCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICBtYXhfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgbWluX2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZF9vZmZzZXQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgaGFzaD0wLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlCiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgcG9zdHMubWVzc2FnZXNbMF0ubWVzc2FnZS5maW5kKCJZb3UgbXVzdCBzdGF5IikgIT0gLTEKICAgICAgICAgICAgICAgICAgICBvciBwb3N0cy5tZXNzYWdlc1swXS5tZXNzYWdlLmZpbmQoIlBsZWFzZSBzdGF5IG9uIikgIT0gLTEKICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgc2VjID0gcmUuZmluZGFsbChyIihbXGQuXSpcZCspIiwgbWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICB0dW5nZ3UoaW50KHNlY1swXSkpCiAgICAgICAgICAgICAgICAgICAgc2xlZXAoMSkKICAgICAgICAgICAgICAgICAgICBwb3N0cyA9IGNsaWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgR2V0SGlzdG9yeVJlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWVyPWNoYW5uZWxfZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ9MiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRfaWQ9MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9pZD0wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluX2lkPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRfb2Zmc2V0PTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoPTAsCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXJlcyA9IHBvc3RzLm1lc3NhZ2VzWzFdLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICBzbGVlcCgyKQogICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzMwbVsrXSBcMDMzWzE7MzJtIFsiICsgbWVyYWggKyAiPCIgKyBrdW5pbmcgKyAiQmVyaGFzaWwiICsgbWVyYWggKyAiPiIgKyBoaWphdSArICJdIiArIGt1bmluZyArICI9Pj4iICsgaGlqYXUgKyBtZXNzYWdlcmVzICsgIlxuIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcGFzcwoKZmluYWxseToKICAgIGNsaWVudC5kaXNjb25uZWN0KCkK"))